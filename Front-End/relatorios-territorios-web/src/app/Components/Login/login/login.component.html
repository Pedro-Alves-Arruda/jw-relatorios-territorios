<div class="container">
    
    <div class="mensagem-sucesso" *ngIf="mensagemSucesso">Link redefinição de senha enviado com sucesso</div>
    <div class="mensagem-erro" *ngIf="mensagemErro">Erro, email ou senha incorretos</div>
    <div class="col-md-12 title">
        <div>
            <img src="assets/imagens/logo_sistema.png" style="width: 50px; height: 50px;" alt="">
        </div>
        <div>
            <h2 class="title-h2">Login</h2>
        </div>
    </div>
    <hr>

    <div class="col-md-12 inputs">
        <label for="email">Email:</label>
        <input type="text" class="col-md-10 ml-3 form-control" name="email" id="email" [(ngModel)]="usuario.email">
    </div>
    <div class="col-md-12 inputs">
        <label for="senha" class="label-senha">Senha:</label>
        <input autocomplete="off" type="password" class="col-md-10 ml-3 form-control" name="password" id="password" [(ngModel)]="usuario.password">
    </div>
    <hr>
    <p>Primeiro login? <a data-toggle="modal" data-target="#modalLinkCadastro" href="" style="cursor: pointer;" (click)="preparaDadosModal()"> clique aqui</a> e solicite um codigo de liberação para cadastro para seu Ancião</p>
     <div class="col-md-12 ml-10">
        <button class="col-md-8 btn" type="submit" (click)="verificarLogin()">Login</button>
    </div>
    <hr>
    <p style="display: flex;justify-content: center;align-items: center;">Esqueceu sua senha? <a data-toggle="modal" href="" style="cursor:pointer; margin-left:0.5rem" data-target="#modalLinkRedefinicaoSenha"> clique aqui</a></p>
</div>


<div class="modal" tabindex="-1" role="dialog" id="modalLinkCadastro">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <div class="col-md-12">
                  <p>Digite o email do ancião da sua congregação responsavel 
                    por cadastrar novos publicadores e será enviado uma solicitação para ele
                    criar seu usario. Após seu usuario ser criado, recomendamos que depois do primeiro login
                    coloque `Esqueceu sua senha?` e altere sua senha.</p>
                  <label for="nome">Email:</label>
                  <input type="text" name="email" id="" class="form-control inputs" [(ngModel)]="usuario.email">
                  <label for="nome">Digite seu nome:</label>
                  <input type="text" name="nome" id="" class="form-control inputs" [(ngModel)]="usuario.nome">
                
                </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="solicitarLink()">Solicitar</button>
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
            </div>
          </div>
        </div>
</div>

<div class="modal" tabindex="-1" role="dialog" id="modalLinkRedefinicaoSenha">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <div class="col-md-12">
                    <p>Digite no campo abaixo o E-mail para onde o link de redefinição de senha 
                        deve ser enviado, após isso abra o E-mail e siga as instruções. Não se 
                        esqueça de verificar a caixa de spam. E-mail deve conter no nosso sistema.
                        Caso não contenha o e-mail não será enviado.</p>

                    <label for="nome">E-mail:</label>
                    <input type="text" name="email" id="" class="form-control inputs" [(ngModel)]="usuario.emailRedefinicao">
                </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="solicitarLinkRedefinicaoSenha()">Solicitar Link</button>
              <button type="button" style="margin-left: 0rem;" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
            </div>
          </div>
        </div>
</div>


<router-outlet></router-outlet>

